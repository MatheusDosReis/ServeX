extends ../index.pug
include ../mixins.pug

block content
	if error
		each err in error
			.alert.alert-danger(role='alert').w-100
				= err
				button.close(type='button' data-dismiss='alert' aria-label='Fechar')
					span(aria-hidden='true') ×

	form(action=`/hire/submit` name=uniqueFormKey method='POST').card-group.w-100
		input(type='hidden' value=service.id name='__serviceId')
		.card.card-body
			h1.card-title Contratar serviço
			.row
				.col-sm-6.form-group
					label Nome de serviço
					input.form-control(disabled type='text' value=service.title)
				.col-sm-3.form-group
					label Categoria do serviço
					input.form-control(disabled type='text' value=service['serviceCategory.name'])
				.col-sm-3.form-group
					label Preço
					.input-group
						.input-group-addon R$
						input.form-control(disabled value=service.basePrice)
						.input-group-addon= mapPricingType(service['serviceCategory.pricingType'])
			.row
				.col-sm-6.form-group
					label Nome do prestador
					input.form-control(disabled type='text' value=service['user.fullname'])
				.col-sm-3.form-group
					label Avaliação do prestador
					h4
						+stars(service['user.rating'])
				.col-sm-3

			.row
				.form-group.col-4
					label(for='date') Data de início
					input.form-control(required type='date' name='date')

				.form-group.col-4
					label(for='time') Hora de ínicio
					input.form-control(required type='time' name='time')

				case service['serviceCategory.pricingType']
						when 'Once'
							break
						when 'Hourly'
							.form-group.col-4
								label(for='timefactor') Tempo de contratação
								.input-group
									input.form-control(required type='text' name='timefactor')
									.input-group-addon horas
							break
						when 'Daily'
							.form-group.col-4
								label(for='timefactor') Tempo de contratação
								.input-group
									input.form-control(required type='text' name='timefactor')
									.input-group-addon dias
							break
			if isLoggedIn
				.form-group
					button.btn.btn-primary(type='submit') Contratar
